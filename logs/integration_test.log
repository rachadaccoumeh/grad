[2025-05-18 06:16:07] === STARTING FULL INTEGRATION TEST ===
[2025-05-18 06:16:07] Current model: gemini-1.5-pro-latest
[2025-05-18 06:16:07] Created test room image at: uploads/test_integration_room.png (Size: 1.32 KB)
[2025-05-18 06:16:07] Testing file upload validation for: test_room.png (image/png, 1.32 KB)
[2025-05-18 06:16:07] Validation result: PASSED
[2025-05-18 06:16:07] Testing Gemini API integration
[2025-05-18 06:16:07] Sending request to Gemini API with prompt: 'Generate interior design ideas for this room in a modern style. Describe furniture placement, color scheme, and decorative elements.'
[2025-05-18 06:16:07] Using model: gemini-1.5-pro-latest
[2025-05-18 06:16:07] Sending request to Gemini API: {
    "contents": [
        {
            "parts": [
                {
                    "text": "Generate interior design ideas for this room in a modern style. Describe furniture placement, color scheme, and decorative elements."
                },
                {
                    "inlineData": {
                        "mimeType": "image\/png",
                        "data": "[BASE64_IMAGE_DATA]"
                    }
                }
            ]
        }
    ],
    "generationConfig": {
        "temperature": 0.4,
        "topK": 32,
        "topP": 1,
        "maxOutputTokens": 2048
    }
}
[2025-05-18 06:16:08] API Response (HTTP 429): {
  "error": {
    "code": 429,
    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.",
    "status": "RESOURCE_EXHAUSTED",
    "details": [
      {
        "@type":...
[2025-05-18 06:16:08] Quota limit exceeded: You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.
[2025-05-18 06:16:08] Error details: Array
(
    [0] => Array
        (
            [@type] => type.googleapis.com/google.rpc.QuotaFailure
            [violations] => Array
                (
                    [0] => Array
                        (
                            [quotaMetric] => generativelanguage.googleapis.com/generate_content_free_tier_requests
                            [quotaId] => GenerateRequestsPerDayPerProjectPerModel-FreeTier
                            [quotaDimensions] => Array
                                (
                                    [model] => gemini-1.5-pro
                                    [location] => global
                                )

                        )

                    [1] => Array
                        (
                            [quotaMetric] => generativelanguage.googleapis.com/generate_content_free_tier_requests
                            [quotaId] => GenerateRequestsPerMinutePerProjectPerModel-FreeTier
                            [quotaDimensions] => Array
                                (
                                    [location] => global
                                    [model] => gemini-1.5-pro
                                )

                        )

                    [2] => Array
                        (
                            [quotaMetric] => generativelanguage.googleapis.com/generate_content_free_tier_input_token_count
                            [quotaId] => GenerateContentInputTokensPerModelPerMinute-FreeTier
                            [quotaDimensions] => Array
                                (
                                    [model] => gemini-1.5-pro
                                    [location] => global
                                )

                        )

                )

        )

    [1] => Array
        (
            [@type] => type.googleapis.com/google.rpc.Help
            [links] => Array
                (
                    [0] => Array
                        (
                            [description] => Learn more about Gemini API quotas
                            [url] => https://ai.google.dev/gemini-api/docs/rate-limits
                        )

                )

        )

    [2] => Array
        (
            [@type] => type.googleapis.com/google.rpc.RetryInfo
            [retryDelay] => 51s
        )

)

[2025-05-18 06:16:08] Error in generateImageWithGemini: API rate limit exceeded. Please try again later or contact support.
[2025-05-18 06:16:08] Test completed and test image removed
