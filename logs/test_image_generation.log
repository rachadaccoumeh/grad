[2025-05-18 06:10:54] Starting image generation test
[2025-05-18 06:10:54] Created test room image at: uploads/test_room.png
[2025-05-18 06:10:54] Sending request to Gemini API with prompt: 'Generate interior design ideas for this room in a modern style with a detailed description of furniture placement, color scheme, and decorative elements.'
[2025-05-18 06:10:54] Sending request to Gemini API: {
    "contents": [
        {
            "parts": [
                {
                    "text": "Generate interior design ideas for this room in a modern style with a detailed description of furniture placement, color scheme, and decorative elements."
                },
                {
                    "inlineData": {
                        "mimeType": "image\/png",
                        "data": "[BASE64_IMAGE_DATA]"
                    }
                }
            ]
        }
    ],
    "generationConfig": {
        "temperature": 0.4,
        "topK": 32,
        "topP": 1,
        "maxOutputTokens": 2048
    }
}
[2025-05-18 06:10:54] API Response (HTTP 400): {
  "error": {
    "code": 400,
    "message": "The requested combination of response modalities is not supported by the model. models/gemini-2.0-flash-preview-image-generation accepts the following combination of response modalities:\n* IMAGE, TEXT\n",
    "status": "INVALID_ARGUMENT"
  }
}
...
[2025-05-18 06:10:54] Error in generateImageWithGemini: API Error: The requested combination of response modalities is not supported by the model. models/gemini-2.0-flash-preview-image-generation accepts the following combination of response modalities:
* IMAGE, TEXT

[2025-05-18 06:11:28] Starting image generation test
[2025-05-18 06:11:28] Created test room image at: uploads/test_room.png
[2025-05-18 06:11:28] Sending request to Gemini API with prompt: 'Generate interior design ideas for this room in a modern style with a detailed description of furniture placement, color scheme, and decorative elements.'
[2025-05-18 06:11:28] Sending request to Gemini API: {
    "contents": [
        {
            "parts": [
                {
                    "text": "Generate interior design ideas for this room in a modern style with a detailed description of furniture placement, color scheme, and decorative elements."
                },
                {
                    "inlineData": {
                        "mimeType": "image\/png",
                        "data": "[BASE64_IMAGE_DATA]"
                    }
                }
            ]
        }
    ],
    "generationConfig": {
        "temperature": 0.4,
        "topK": 32,
        "topP": 1,
        "maxOutputTokens": 2048
    }
}
[2025-05-18 06:11:29] API Response (HTTP 429): {
  "error": {
    "code": 429,
    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.",
    "status": "RESOURCE_EXHAUSTED",
    "details": [
      {
        "@type":...
[2025-05-18 06:11:29] Error in generateImageWithGemini: API Error: You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.. Details: Array
(
    [0] => Array
        (
            [@type] => type.googleapis.com/google.rpc.QuotaFailure
            [violations] => Array
                (
                    [0] => Array
                        (
                            [quotaMetric] => generativelanguage.googleapis.com/generate_content_free_tier_requests
                            [quotaId] => GenerateRequestsPerDayPerProjectPerModel-FreeTier
                            [quotaDimensions] => Array
                                (
                                    [location] => global
                                    [model] => gemini-1.5-pro
                                )

                        )

                    [1] => Array
                        (
                            [quotaMetric] => generativelanguage.googleapis.com/generate_content_free_tier_requests
                            [quotaId] => GenerateRequestsPerMinutePerProjectPerModel-FreeTier
                            [quotaDimensions] => Array
                                (
                                    [location] => global
                                    [model] => gemini-1.5-pro
                                )

                        )

                    [2] => Array
                        (
                            [quotaMetric] => generativelanguage.googleapis.com/generate_content_free_tier_input_token_count
                            [quotaId] => GenerateContentInputTokensPerModelPerMinute-FreeTier
                            [quotaDimensions] => Array
                                (
                                    [location] => global
                                    [model] => gemini-1.5-pro
                                )

                        )

                )

        )

    [1] => Array
        (
            [@type] => type.googleapis.com/google.rpc.Help
            [links] => Array
                (
                    [0] => Array
                        (
                            [description] => Learn more about Gemini API quotas
                            [url] => https://ai.google.dev/gemini-api/docs/rate-limits
                        )

                )

        )

    [2] => Array
        (
            [@type] => type.googleapis.com/google.rpc.RetryInfo
            [retryDelay] => 30s
        )

)

